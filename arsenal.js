import"./assets/script-df64ac74.js";const p=s=>{const e=s.querySelector(".select"),t=s.querySelector(".caret"),n=s.querySelector(".menu"),r=s.querySelectorAll(".menu li"),o=s.querySelector(".selected");e.addEventListener("click",i=>{e.classList.toggle("select-clicked"),t.classList.toggle("caret-rotate"),n.classList.toggle("menu-open")}),r.forEach(i=>{i.addEventListener("click",()=>{o.innerText=i.innerText,e.classList.remove("select-clicked"),t.classList.remove("caret-rotate"),n.classList.remove("menu-open"),r.forEach(y=>{y.classList.remove("active")}),i.classList.add("active")})})},d=s=>{const e=s.querySelector(".all-btn"),t=s.querySelector('[data-all="gun"]');e.addEventListener("click",()=>{t.classList.toggle("active"),e.classList.toggle("active"),t.classList.contains("active")?e.innerHTML=`Свернуть <svg xmlns="http://www.w3.org/2000/svg" width="13" height="9" viewBox="0 0 13 9" fill="none">
                                <path d="M12.3604 1.14004L6.36035 7.86005L0.360351 1.14004" stroke="white" stroke-width="0.923077"/>
                            </svg>`:e.innerHTML=`Все курсы <svg xmlns="http://www.w3.org/2000/svg" width="13" height="9" viewBox="0 0 13 9" fill="none">
                                <path d="M12.3604 1.14004L6.36035 7.86005L0.360351 1.14004" stroke="white" stroke-width="0.923077"/>
                            </svg>`})};let w=`{
    "weekend":{
        "basicCost":{
            "price":"95000",
            "salesPrice":"34000"
        },
        "costOfShots":{
            "price":"35000",
            "salesPrice":"800000"
        },
        "personalGallery":"12000"
    },
    "weekdays":{
        "basicCost":{
            "price":"85000",
            "salesPrice":""
        },
        "costOfShots":{
            "price":"55000",
            "salesPrice":"100000"
        },
        "personalGallery":"12000"
    },
    "personalInstructor":"15000"
}`,c=JSON.parse(w);const g=document.getElementById("courseSelected"),a={weekDay:"weekdays",basicCost:Number(c.weekdays.basicCost.price),costOfShoats:Number(c.weekdays.costOfShots.price),quantityPerson:1,instructor:!1,instructorPrice:0,galleryPrice:0};function l(){const s=document.querySelectorAll(".totalAmout");let e=a.basicCost*a.quantityPerson+a.instructorPrice+a.galleryPrice;s.forEach(t=>t.textContent=`${e.toLocaleString()} р.`)}const m=()=>{const s=document.querySelector(".daysWrapper"),e=document.querySelector(".daysContent");let t=s.querySelectorAll("button")[0];e.innerHTML=`<div class="flex justify-between mb-[12px]">
                             <p class="text-white text-[18px] font-normal leading-5">Базовая стоимость</p>
                             <div data-cost="basic"><span class="${c[a.weekDay].basicCost.salesPrice.toLocaleString()?"":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${Number(c[a.weekDay].basicCost.salesPrice).toLocaleString()} р</span> <span class="text-[18px] text-white font-normal leading-5 opacity-50">${a.basicCost.toLocaleString()} р.</span></div>
                              </div>
                              <div class="flex justify-between">
                                 <p class="text-white text-[18px] font-normal leading-5">Стоимость выстрелов</p>
                              <div data-cost="shots"><span class="${c[a.weekDay].costOfShots.salesPrice.toLocaleString()?"":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${Number(c[a.weekDay].costOfShots.salesPrice).toLocaleString()} р</span> <span class="text-[18px] text-[#B8AA91] font-normal leading-5">${a.costOfShoats.toLocaleString()} р.</span></div>
                           </div>`,s.addEventListener("click",n=>{n.target.closest(".btn-catalog")&&(n.target.closest(".btn-catalog").classList.contains("tabs__caption_active")||(t.classList.remove("tabs__caption_active"),t=n.target.closest(".btn-catalog"),t.classList.add("tabs__caption_active"),a.weekDay=t.dataset.day.toLocaleString(),a.basicCost=Number(c[t.dataset.day].basicCost.price),a.costOfShoats=Number(c[t.dataset.day].costOfShots.price),e.innerHTML=`<div class="flex justify-between mb-[12px]">
                             <p class="text-white text-[18px] font-normal leading-5">Базовая стоимость</p>
                             <div data-cost="basic"><span class="${c[a.weekDay].basicCost.salesPrice.toLocaleString()?" ":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${Number(c[a.weekDay].basicCost.salesPrice).toLocaleString()} р</span> <span class="text-[18px] text-white font-normal leading-5 opacity-50">${a.basicCost.toLocaleString()} р.</span></div>
                              </div>
                              <div class="flex justify-between">
                                 <p class="text-white text-[18px] font-normal leading-5">Стоимость выстрелов</p>
                              <div data-cost="shots"><span class="${c[a.weekDay].costOfShots.salesPrice.toLocaleString()?" ":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${Number(c[a.weekDay].costOfShots.salesPrice).toLocaleString()} р</span> <span class="text-[18px] text-[#B8AA91] font-normal leading-5">${a.costOfShoats.toLocaleString()} р.</span></div>
                           </div>`),l())})},v=()=>{const s=document.querySelector(".person");let e=document.querySelector(".person-active");s.addEventListener("click",t=>{t.target.className.includes("btnCurrent")&&(e&&e.classList.remove("person-active"),e=t.target,e.classList.add("person-active"),a.quantityPerson=Number(e.dataset.person),l())})},b=()=>{const s=document.getElementById("addService"),e=document.querySelector(".selectCustom"),t=s.querySelector('[data-instructor="price"]'),n=s.querySelector('[data-gallery="price"]');t.textContent=`+${Number(c.personalInstructor).toLocaleString()} р.`,n.textContent=`+${Number(c[a.weekDay].personalGallery).toLocaleString()} р.`,s.addEventListener("click",r=>{r.target.closest(".btnService")&&(r.target.closest(".btnService").classList.toggle("tabs__caption_active"),r.target.closest(".btnService").dataset.personal==="instructor"&&(e.classList.toggle("disabled"),a.instructorPrice?a.instructorPrice=0:a.instructorPrice=Number(c.personalInstructor)),r.target.closest(".btnService").dataset.personal==="gallery"&&(a.galleryPrice?a.galleryPrice=0:a.galleryPrice=Number(c[a.weekDay].personalGallery))),l()})},S=async()=>{const s=document.getElementById("instructor"),e=s.querySelector(".menu");let t=await fetch("https://651e822d44a3a8aa47687cb1.mockapi.io/instrucotr"),n;t.ok&&(n=await t.json(),n.forEach(r=>{e.innerHTML+=`<li>${r.first_name} ${r.last_name}</li>`})),p(s)},h=()=>{const s=document.querySelector(".btnReserve"),e=document.querySelector(".modalReserve");document.getElementById("time");let t;s.addEventListener("click",r=>{r.target.closest(".btnReserve")&&(document.body.classList.add("active"),e.classList.add("active"))}),document.addEventListener("click",r=>{!r.composedPath().includes(e)&&!r.composedPath().includes(s)&&(document.body.classList.remove("active"),e.classList.remove("active"))}),new VanillaCalendar("#calendar",{settings:{lang:"ru",range:{disablePast:!0},visibility:{weekend:!1,today:!1}},CSSClasses:{calendarDefault:"calendar-custom",header:"calendar-header",headerContent:"calendar-header__content",arrow:"calendar-arrow",arrowPrev:"calendar-arrow-prev",arrowNext:"calendar-arrow-next",month:"calendar-month",year:"calendar-year",days:"calendar-days",day:"calendar-day",dayBtn:"calendar-dayBtn",dayBtnDisabled:"calendar-dayBtn-disabled",dayBtnSelected:"calendar-dayBtn-selected",weekDay:"calendar-week__day"}}).init(),time.addEventListener("click",r=>{r.target.closest(".btnTime")&&(t&&t.classList.remove("active"),t===r.target?(t.classList.remove("active"),t=void 0):(t=r.target,t.classList.add("active")),console.log(t))})};l();S();v();h();b();m();const u=async s=>{const e=await fetch(`https://651e822d44a3a8aa47687cb1.mockapi.io/program/${s}`).then(t=>{if(t.ok)return t.json()});e&&f(e)},f=s=>{const e=document.querySelector("[data-title]"),t=document.querySelector("[data-desc]"),n=document.querySelector("[data-properties]"),r=document.querySelector("[data-image]"),o=document.querySelector('[data-progress="bar"]'),i=document.querySelector('[data-progress="value"]');console.log(s),e.innerHTML=s.title,t.innerHTML=s.description,n.innerHTML=s.characteristic,r.src=s.image+Math.random(),i.innerHTML=s.progress+"%",o.style.width=`${s.progress+"%"}`},L=()=>{const s=document.querySelectorAll(".gunCourse");let e=document.querySelector(".course-text");g.querySelector(".menu").addEventListener("click",n=>{var r;u(Number((r=n.target.dataset)==null?void 0:r.courseId))}),s.forEach(n=>{n.addEventListener("click",async r=>{var o;r.target.closest(".course-text")&&(e&&e.classList.remove("active"),e=r.target,u(Number((o=e.dataset)==null?void 0:o.courseId)),e.classList.add("active"))})})};d(document.getElementById("gun"));d(document.getElementById("rifle"));d(document.getElementById("carabin"));document.addEventListener("DOMContentLoaded",()=>{new Swiper(".myArsenal",{slidesPerView:"auto",spaceBetween:6,breakpoints:{500:{spaceBetween:20}},navigation:{nextEl:".myArsenal-custom-next",prevEl:".myArsenal-custom-prev",lockClass:!1},pagination:{el:".swiper-pagination__custom",type:"progressbar"}}),new Swiper(".imageGang",{slidesPerView:1,spaceBetween:15,pagination:{el:".imageGang-pagination",type:"custom",renderCustom:function(s,e,t){return`<span class="text-white">0${e}</span> <span class="text-[rgba(255,_255,_255,_0.30)]">/ 0${t}</span>`}},navigation:{nextEl:".imageGang-button-next",prevEl:".imageGang-button-prev"}}),new Swiper(".GungSlider",{slidesPerView:1,spaceBetween:10,breakpoints:{1416:{slidesPerView:4,spaceBetween:30},970:{slidesPerView:3,spaceBetween:30},500:{slidesPerView:2,spaceBetween:30}},pagination:{el:".swiper-pagination__custom",type:"progressbar"},navigation:{nextEl:".myGung-custom-next",prevEl:".myGung-custom-prev",lockClass:!1}}),new Swiper(".InstructorSlider",{slidesPerView:1,spaceBetween:30,breakpoints:{1500:{slidesPerView:4},970:{slidesPerView:3},500:{slidesPerView:2}},pagination:{el:".swiper-pagination__custom",type:"progressbar"},navigation:{nextEl:".InstructorSlider-custom-next",prevEl:".InstructorSlider-custom-prev",lockClass:!1}}),p(g),L(),l(),m()});
