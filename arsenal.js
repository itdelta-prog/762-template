import"./assets/script-df64ac74.js";import{T as m}from"./assets/tabs-0d1d1a23.js";const y=a=>{const t=document.querySelectorAll(".selectCustom");console.log(t),t.forEach(e=>{const n=e.querySelector(".select"),c=e.querySelector(".caret"),l=e.querySelector(".menu"),p=e.querySelectorAll(".menu li"),u=e.querySelector(".selected");n.addEventListener("click",i=>{n.classList.toggle("select-clicked"),c.classList.toggle("caret-rotate"),l.classList.toggle("menu-open")}),p.forEach(i=>{i.addEventListener("click",()=>{u.innerText=i.innerText,n.classList.remove("select-clicked"),c.classList.remove("caret-rotate"),l.classList.remove("menu-open"),p.forEach(g=>{g.classList.remove("active")}),i.classList.add("active")})})})},d=a=>{const t=a.querySelector(".all-btn"),e=a.querySelector('[data-all="gun"]');t.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active"),e.classList.contains("active")?t.innerHTML=`Свернуть <svg xmlns="http://www.w3.org/2000/svg" width="13" height="9" viewBox="0 0 13 9" fill="none">
                                <path d="M12.3604 1.14004L6.36035 7.86005L0.360351 1.14004" stroke="white" stroke-width="0.923077"/>
                            </svg>`:t.innerHTML=`Все курсы <svg xmlns="http://www.w3.org/2000/svg" width="13" height="9" viewBox="0 0 13 9" fill="none">
                                <path d="M12.3604 1.14004L6.36035 7.86005L0.360351 1.14004" stroke="white" stroke-width="0.923077"/>
                            </svg>`})},v=document.getElementById("gungForm");let w=`{
    "weekend":{
        "basicCost":{
            "price":"95000",
            "salesPrice":"34000"
        },
        "costOfShots":{
            "price":"35000",
            "salesPrice":"800000"
        }
    },
    "weekdays":{
        "basicCost":{
            "price":"85000",
            "salesPrice":""
        },
        "costOfShots":{
            "price":"55000",
            "salesPrice":"100000"
        }
    },
    "personalGallery":"12000",
    "personalInstructor":"15000"
}`,r=JSON.parse(w);const s={weekDay:"weekdays",basicCost:Number(r.weekdays.basicCost.price),costOfShoats:Number(r.weekdays.costOfShots.price),quantityPerson:1,instructor:!1,instructorPrice:0,galleryPrice:0};v.addEventListener("click",a=>{a.preventDefault()});function o(){const a=document.querySelectorAll(".totalAmout");let t=s.basicCost*s.quantityPerson+s.instructorPrice+s.galleryPrice;a.forEach(e=>e.textContent=`${t} р.`),console.log(s)}const b=()=>{const a=document.querySelector(".daysWrapper"),t=document.querySelector(".daysContent");let e=a.querySelectorAll("button")[0];t.innerHTML=`<div class="flex justify-between mb-[12px]">
                             <p class="text-white text-[18px] font-normal leading-5">Базовая стоимость</p>
                             <div data-cost="basic"><span class="${r[s.weekDay].basicCost.salesPrice?"":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${r[s.weekDay].basicCost.salesPrice} р</span> <span class="text-[18px] text-white font-normal leading-5 opacity-50">${s.basicCost} р.</span></div>
                              </div>
                              <div class="flex justify-between">
                                 <p class="text-white text-[18px] font-normal leading-5">Стоимость выстрелов</p>
                              <div data-cost="shots"><span class="${r[s.weekDay].costOfShots.salesPrice?"":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${r[s.weekDay].costOfShots.salesPrice} р</span> <span class="text-[18px] text-[#B8AA91] font-normal leading-5">${s.costOfShoats} р.</span></div>
                           </div>`,a.addEventListener("click",n=>{n.target.closest(".btn-catalog")&&(n.target.closest(".btn-catalog").classList.contains("tabs__caption_active")||(e.classList.remove("tabs__caption_active"),e=n.target.closest(".btn-catalog"),e.classList.add("tabs__caption_active"),s.weekDay=e.dataset.day,s.basicCost=Number(r[e.dataset.day].basicCost.price),s.costOfShoats=Number(r[e.dataset.day].costOfShots.price),t.innerHTML=`<div class="flex justify-between mb-[12px]">
                             <p class="text-white text-[18px] font-normal leading-5">Базовая стоимость</p>
                             <div data-cost="basic"><span class="${r[s.weekDay].basicCost.salesPrice?"":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${r[s.weekDay].basicCost.salesPrice} р</span> <span class="text-[18px] text-white font-normal leading-5 opacity-50">${s.basicCost} р.</span></div>
                              </div>
                              <div class="flex justify-between">
                                 <p class="text-white text-[18px] font-normal leading-5">Стоимость выстрелов</p>
                              <div data-cost="shots"><span class="${r[s.weekDay].costOfShots.salesPrice?"":"hidden"} text-[14px] text-[rgba(255,_255,_255,_0.50)] line-through">${r[s.weekDay].costOfShots.salesPrice} р</span> <span class="text-[18px] text-[#B8AA91] font-normal leading-5">${s.costOfShoats} р.</span></div>
                           </div>`),o())})},f=()=>{const a=document.querySelector(".person");let t=document.querySelector(".person-active");a.addEventListener("click",e=>{e.target.className.includes("btnCurrent")&&(t&&t.classList.remove("person-active"),t=e.target,t.classList.add("person-active"),s.quantityPerson=Number(t.dataset.person),o())})},h=()=>{const a=document.getElementById("addService"),t=document.querySelector(".selectCustom");a.addEventListener("click",e=>{e.target.closest(".btnService")&&(e.target.closest(".btnService").classList.toggle("tabs__caption_active"),e.target.closest(".btnService").dataset.personal==="instructor"&&(t.classList.toggle("disabled"),s.instructorPrice?s.instructorPrice=0:s.instructorPrice=Number(r.personalInstructor)),e.target.closest(".btnService").dataset.personal==="gallery"&&(s.galleryPrice?s.galleryPrice=0:s.galleryPrice=Number(r.personalGallery))),o()})},x=async()=>{const t=document.getElementById("instructor").querySelector(".menu");let e=await fetch("https://651e822d44a3a8aa47687cb1.mockapi.io/instrucotr"),n;e.ok&&(n=await e.json(),n.forEach(c=>{t.innerHTML+=`<li>${c.first_name} ${c.last_name}</li>`})),y()},S=()=>{const a=document.querySelector(".btnReserve"),t=document.querySelector(".modalReserve");document.getElementById("time");let e;a.addEventListener("click",c=>{c.target.closest(".btnReserve")&&(document.body.classList.add("active"),t.classList.add("active"))}),document.addEventListener("click",c=>{!c.composedPath().includes(t)&&!c.composedPath().includes(a)&&(document.body.classList.remove("active"),t.classList.remove("active"))}),new VanillaCalendar("#calendar",{settings:{lang:"ru",range:{disablePast:!0},visibility:{weekend:!1,today:!1}},CSSClasses:{calendarDefault:"calendar-custom",header:"calendar-header",headerContent:"calendar-header__content",arrow:"calendar-arrow",arrowPrev:"calendar-arrow-prev",arrowNext:"calendar-arrow-next",month:"calendar-month",year:"calendar-year",days:"calendar-days",day:"calendar-day",dayBtn:"calendar-dayBtn",dayBtnDisabled:"calendar-dayBtn-disabled",dayBtnSelected:"calendar-dayBtn-selected",weekDay:"calendar-week__day"}}).init(),time.addEventListener("click",c=>{c.target.closest(".btnTime")&&(e&&e.classList.remove("active"),e===c.target?(e.classList.remove("active"),e=void 0):(e=c.target,e.classList.add("active")),console.log(e))})};o();m(".tabs__visits",".tabs__head",".tabs__body",".tabs__caption","tabs__caption_active","tabs__content_active");x();f();S();h();b();new Swiper(".myArsenal",{slidesPerView:"auto",spaceBetween:6,breakpoints:{500:{spaceBetween:20}},navigation:{nextEl:".myArsenal-custom-next",prevEl:".myArsenal-custom-prev",lockClass:!1},pagination:{el:".swiper-pagination__custom",type:"progressbar"}});new Swiper(".imageGang",{slidesPerView:1,spaceBetween:15,pagination:{el:".imageGang-pagination",type:"custom",renderCustom:function(a,t,e){return`<span class="text-white">0${t}</span> <span class="text-[rgba(255,_255,_255,_0.30)]">/ 0${e}</span>`}},navigation:{nextEl:".imageGang-button-next",prevEl:".imageGang-button-prev"}});new Swiper(".GungSlider",{slidesPerView:1,spaceBetween:10,breakpoints:{1416:{slidesPerView:4,spaceBetween:30},970:{slidesPerView:3,spaceBetween:30},500:{slidesPerView:2,spaceBetween:30}},pagination:{el:".swiper-pagination__custom",type:"progressbar"},navigation:{nextEl:".myGung-custom-next",prevEl:".myGung-custom-prev",lockClass:!1}});new Swiper(".InstructorSlider",{slidesPerView:1,spaceBetween:30,breakpoints:{1500:{slidesPerView:4},970:{slidesPerView:3},500:{slidesPerView:2}},pagination:{el:".swiper-pagination__custom",type:"progressbar"},navigation:{nextEl:".InstructorSlider-custom-next",prevEl:".InstructorSlider-custom-prev",lockClass:!1}});const _=()=>{const a=document.querySelectorAll(".gunCourse");let t=document.querySelector(".course-text");a.forEach(e=>{e.addEventListener("click",n=>{n.target.closest(".course-text")&&(t&&t.classList.remove("active"),t=n.target,t.classList.add("active")),console.log(t)})})};_();d(document.getElementById("gun"));d(document.getElementById("rifle"));d(document.getElementById("carabin"));
